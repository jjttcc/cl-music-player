#!/bin/env ruby

require './configuration'
require './player'

def is_option(arg)
  arg =~ /^-/
end

configuration = Configuration.new
dbfile = configuration.dbfile
player = Player.new
list = []
for i in 0 .. ARGV.length - 1 do
  if is_option(ARGV[i])
puts "it's an option."
  else
    l = dbfile.matchesfor(ARGV[i])
    if l.empty?
      $stderr.puts "No matches found for #{ARGV[i]}"
    end
    list += l
  end
end
if list.length > 0
  player.playfiles(list)
end
